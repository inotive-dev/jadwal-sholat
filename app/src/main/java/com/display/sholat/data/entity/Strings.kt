package com.display.sholat.data.entity

import android.content.Context
import com.google.gson.Gson
import com.display.sholat.R

data class Strings(
    val imsak: String,
    val fajr: String,
    val dhuhr: String,
    val asr: String,
    val maghrib: String,
    val isha: String,
    val menu_date_and_time: String,
    val menu_background: String,
    val menu_running_text: String,
    val menu_schedule_prayer: String,
    val menu_info: String,
    val zone_time: String,
    val date_masehi: String,
    val date_hijri: String,
    val upload_file: String,
    val select_prayer: String,
    val duration_slideshow: String,
    val schedule_slideshow: String,
    val second: String,
    val minute: String,
    val title_select_timezone: String,
    val speed_runningText: String,
    val title_schedule_date: String,
    val title_edit_background: String,
    val add_slideshow: String,
    val set: String,
    val edit: String,
    val delete: String,
    val cancel: String,
    val save: String,
    val title_edit_date_and_time: String,
    val title_add_slideshow: String,
    val title_sync_data: String,
    val title_edit_information_mosque: String,
    val name_mosque: String,
    val address: String,
    val import_text: String,
    val update: String,
    val title_edit_schedule_prayer: String,
    val refresh_data: String,
    val upload_text: String,
    val schedule_running_text: String,
    val title_settings: String,
    val title_edit_running_text: String,
    val title_edit_slideshow: String,
    val duration: String,
    val toast_nothing_selected: String,
    val toast_successfully_applied: String,
    val toast_saved_successfully: String,
    val toast_successfully_updated: String,
    val toast_nothing_is_updated: String,
    val schedule_time: String,
    val title_select_time_start: String,
    val title_select_time_end: String,
    val menu_language: String,
    val title_select_language: String,
    val toast_error_download_language: String,
    val title_edit_iqomah: String,
    val location: String,
    val country: String,
    val city: String,
    val title_select_location: String,
    val now_iqomah: String,
    val syuruq: String,
    val time_prayer: String,
    val iqomah: String,
    val sunnah_fasting: String,
    val time_for_iqomah: String,
    val full_background: String,
    val showclock: String,
    val background_desc: String,
    val change_background: String,
    val title_iqamah_setting: String,
    val title_about: String,
    val now_khutbah: String,
    val title_info: String,
    val translate_to: String = "in"
) {
    companion object {

        fun getDefault(context: Context) : Strings {
            return Strings(
                imsak = context.getString(R.string.imsak),
                fajr = context.getString(R.string.fajr),
                dhuhr =context.getString(R.string.dhuhr),
                asr = context.getString(R.string.asr),
                maghrib = context.getString(R.string.maghrib),
                isha =context.getString(R.string.isha),
                menu_date_and_time = context.getString(R.string.menu_date_and_time),
                menu_background = context.getString(R.string.menu_background),
                menu_running_text = context.getString(R.string.menu_running_text),
                menu_schedule_prayer = context.getString(R.string.menu_schedule_prayer),
                menu_info = context.getString(R.string.menu_info),
                zone_time = context.getString(R.string.zone_time),
                date_masehi = context.getString(R.string.date_masehi),
                date_hijri = context.getString(R.string.date_hijri),
                upload_file = context.getString(R.string.upload_file),
                select_prayer = context.getString(R.string.select_prayer),
                duration_slideshow = context.getString(R.string.duration_slideshow),
                schedule_slideshow = context.getString(R.string.schedule_slideshow),
                second = context.getString(R.string.second),
                minute = context.getString(R.string.minute),
                title_select_timezone = context.getString(R.string.title_select_timezone),
                context.getString(R.string.speed_runningText),
                context.getString(R.string.title_schedule_date),
                context.getString(R.string.title_edit_background),
                context.getString(R.string.add_slideshow),
                context.getString(R.string.set),
                context.getString(R.string.edit),
                context.getString(R.string.delete),
                context.getString(R.string.cancel),
                context.getString(R.string.save),
                context.getString(R.string.title_edit_date_and_time),
                context.getString(R.string.title_add_slideshow),
                context.getString(R.string.title_sync_data),
                context.getString(R.string.title_edit_information_mosque),
                context.getString(R.string.name_mosque),
                context.getString(R.string.address),
                context.getString(R.string.import_text),
                context.getString(R.string.update),
                context.getString(R.string.title_edit_schedule_prayer),
                context.getString(R.string.refresh_data),
                context.getString(R.string.upload_text),
                context.getString(R.string.schedule_running_text),
                context.getString(R.string.title_settings),
                context.getString(R.string.title_edit_running_text),
                context.getString(R.string.title_edit_slideshow),
                context.getString(R.string.duration),
                context.getString(R.string.toast_nothing_selected),
                context.getString(R.string.toast_successfully_applied),
                context.getString(R.string.toast_saved_successfully),
                context.getString(R.string.toast_successfully_updated),
                context.getString(R.string.toast_nothing_is_updated),
                context.getString(R.string.schedule_time),
                context.getString(R.string.title_select_time_start),
                context.getString(R.string.title_select_time_end),
                context.getString(R.string.menu_language),
                context.getString(R.string.title_select_language),
                context.getString(R.string.toast_error_download_language),
                context.getString(R.string.title_edit_iqomah),
                context.getString(R.string.location),
                context.getString(R.string.country),
                context.getString(R.string.city),
                context.getString(R.string.title_select_location),
                context.getString(R.string.now_iqomah),
                context.getString(R.string.syuruq),
                context.getString(R.string.time_prayer),
                context.getString(R.string.iqomah),
                context.getString(R.string.sunnah_fasting),
                context.getString(R.string.time_for_iqomah),
                context.getString(R.string.full_background),
                context.getString(R.string.showclock),
                context.getString(R.string.background_desc),
                context.getString(R.string.change_background),
                context.getString(R.string.title_iqamah_setting),
                context.getString(R.string.title_about),
                context.getString(R.string.now_khutbah),
                context.getString(R.string.title_info)
            )
        }

        fun getDefaultRaw(context: Context) : Strings {
            val byteArray = context.resources.openRawResource(R.raw.strings_en).readBytes()
            val string = String(byteArray)
            val strings = Gson().fromJson(string, Strings::class.java)
            return copy(getDefault(context), strings)
        }

        fun copy(default: Strings, strings: Strings) : Strings {
            return Strings(
                checkAndCopy(default.imsak, strings.imsak),
                checkAndCopy(default.fajr, strings.fajr),
                checkAndCopy(default.dhuhr, strings.dhuhr),
                checkAndCopy(default.asr, strings.asr),
                checkAndCopy(default.maghrib, strings.maghrib),
                checkAndCopy(default.isha, strings.isha),
                checkAndCopy(default.menu_date_and_time, strings.menu_date_and_time),
                checkAndCopy(default.menu_background, strings.menu_background),
                checkAndCopy(default.menu_running_text, strings.menu_running_text),
                checkAndCopy(default.menu_schedule_prayer, strings.menu_schedule_prayer),
                checkAndCopy(default.menu_info, strings.menu_info),
                checkAndCopy(default.zone_time, strings.zone_time),
                checkAndCopy(default.date_masehi, strings.date_masehi),
                checkAndCopy(default.date_hijri, strings.date_hijri),
                checkAndCopy(default.upload_file, strings.upload_file),
                checkAndCopy(default.select_prayer, strings.select_prayer),
                checkAndCopy(default.duration_slideshow, strings.duration_slideshow),
                checkAndCopy(default.schedule_slideshow, strings.schedule_slideshow),
                checkAndCopy(default.second, strings.second),
                checkAndCopy(default.minute, strings.minute),
                checkAndCopy(default.title_select_timezone, strings.title_select_timezone),
                checkAndCopy(default.speed_runningText, strings.speed_runningText),
                checkAndCopy(default.title_schedule_date, strings.title_schedule_date),
                checkAndCopy(default.title_edit_background, strings.title_edit_background),
                checkAndCopy(default.add_slideshow, strings.add_slideshow),
                checkAndCopy(default.set, strings.set),
                checkAndCopy(default.edit, strings.edit),
                checkAndCopy(default.delete, strings.delete),
                checkAndCopy(default.cancel, strings.cancel),
                checkAndCopy(default.save, strings.save),
                checkAndCopy(default.title_edit_date_and_time, strings.title_edit_date_and_time),
                checkAndCopy(default.title_add_slideshow, strings.title_add_slideshow),
                checkAndCopy(default.title_sync_data, strings.title_sync_data),
                checkAndCopy(default.title_edit_information_mosque, strings.title_edit_information_mosque),
                checkAndCopy(default.name_mosque, strings.name_mosque),
                checkAndCopy(default.address, strings.address),
                checkAndCopy(default.import_text, strings.import_text),
                checkAndCopy(default.update, strings.update),
                checkAndCopy(default.title_edit_schedule_prayer, strings.title_edit_schedule_prayer),
                checkAndCopy(default.refresh_data, strings.refresh_data),
                checkAndCopy(default.upload_text, strings.upload_text),
                checkAndCopy(default.schedule_running_text, strings.schedule_running_text),
                checkAndCopy(default.title_settings, strings.title_settings),
                checkAndCopy(default.title_edit_running_text, strings.title_edit_running_text),
                checkAndCopy(default.title_edit_slideshow, strings.title_edit_slideshow),
                checkAndCopy(default.duration, strings.duration),
                checkAndCopy(default.toast_nothing_selected, strings.toast_nothing_selected),
                checkAndCopy(default.toast_successfully_applied, strings.toast_successfully_applied),
                checkAndCopy(default.toast_saved_successfully, strings.toast_saved_successfully),
                checkAndCopy(default.toast_successfully_updated, strings.toast_successfully_updated),
                checkAndCopy(default.toast_nothing_is_updated, strings.toast_nothing_is_updated),
                checkAndCopy(default.schedule_time, strings.schedule_time),
                checkAndCopy(default.title_select_time_start, strings.title_select_time_start),
                checkAndCopy(default.title_select_time_end, strings.title_select_time_end),
                checkAndCopy(default.menu_language, strings.menu_language),
                checkAndCopy(default.title_select_language, strings.title_select_language),
                checkAndCopy(default.toast_error_download_language, strings.toast_error_download_language),
                checkAndCopy(default.title_edit_iqomah, strings.title_edit_iqomah),
                checkAndCopy(default.location, strings.location),
                checkAndCopy(default.country, strings.country),
                checkAndCopy(default.city, strings.city),
                checkAndCopy(default.title_select_location, strings.title_select_location),
                checkAndCopy(default.now_iqomah, strings.now_iqomah),
                checkAndCopy(default.syuruq, strings.syuruq),
                checkAndCopy(default.time_prayer, strings.time_prayer),
                checkAndCopy(default.iqomah, strings.iqomah),
                checkAndCopy(default.sunnah_fasting, strings.sunnah_fasting),
                checkAndCopy(default.time_for_iqomah, strings.time_for_iqomah),
                checkAndCopy(default.change_background, strings.full_background),
                checkAndCopy(default.showclock, strings.showclock),
                checkAndCopy(default.change_background, strings.background_desc),
                checkAndCopy(default.change_background, strings.change_background),
                checkAndCopy(default.title_iqamah_setting, strings.title_iqamah_setting),
                checkAndCopy(default.title_about, strings.title_about),
                checkAndCopy(default.now_khutbah, strings.now_khutbah),
                checkAndCopy(default.title_info, strings.title_info),
                strings.translate_to,
            )

        }

        private fun checkAndCopy(str1: String, str2: String?) : String {
            return if (str2.isNullOrEmpty()) str1 else str2
        }
    }
}

fun String.formatter(vararg strings: String?): String {
    var s = this
    strings.forEach {
        s = s.replaceFirst("%s", it?:"")
    }
    return s
}
